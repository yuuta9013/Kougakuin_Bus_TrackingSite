<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>データ保管庫（仮）</title>
    <link rel="stylesheet" href="stats_savedata.css">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="stats_savedata.js" defer></script>
</head>
<body onload="displayData();">
    <header>
        <button class="menu-btn" onclick="toggleMenu()">☰</button>
        <nav id="menu" style="display: none;">
            <ul>
                <li><a href="index.html">位置情報</a></li><br>
                <li>
                    <a href="#" onclick="toggleSubMenu(event)">＜バス利用情報＞（仮）</a>
                    <ul id="submenu" style="display: none;">
                        <li><a href="stats_index.html">・利用バス集計（仮）</a></li><br>
                        <li><a href="stats_result.html">・結果一覧（仮）</a></li><br>
                        <li><a href="stats_admin.html">・管理画面（仮）</a></li><br>
                    </ul>
                </li><br>
                <li><a href="notification.html">お知らせ</a></li><br>
                <li><a href="home.html">ミニゲーム</a></li><br>
                <li><a href="https://www.neec.ac.jp/hachioji/" target="_blank">学校ホームページ</a></li>
            </ul>
        </nav>
    </header> 
    <div class="container">
        <h2>IDとパスワードの設定</h2>
        <div class="section">
            <label for="newId">新しいID:</label>
            <input type="text" id="newId">
            <label for="newPassword">新しいパスワード:</label>
            <input type="password" id="newPassword">
        </div>
        <button class="option-button" onclick="addAuth()">追加</button>
    </div>
    <div class="container">
        <h2>登録済みのIDとパスワード</h2>
        <div class="section">
            <table id="authTable"></table>
        </div>
    </div>
    <div class="container">
        <h2>集計結果２の表示</h2>
        <div class="section">
            <label for="selectedDate">日付を選択:</label>
            <input type="date" id="selectedDate" onchange="onDateChange()">
        </div>
        <div class="section">
            <label for="busStop">バス停を選択:</label>
            <select id="busStop" onchange="updateSummary()">
                <option value="">-- 選択してください --</option>
                <option value="学校行き（みなみ野）">学校行き（みなみ野）</option>
                <option value="学校行き（八王子）">学校行き（八王子）</option>
                <option value="学校行き（学生館）">学校行き（学生館）</option>
            </select>
        </div>
        <div class="section">
            <label>集計結果</label>
            <div id="summary">
                <p>集計結果がここに表示されます。</p>
            </div>
        </div>
    </div>
    <div class="container">
        <h2>曜日別データの平均と予想利用人数</h2>
        <div class="section">
            <label for="dayOfWeek">曜日を選択:</label>
            <select id="dayOfWeek">
                <option value="">-- 選択してください --</option>
                <option value="Monday">月曜日</option>
                <option value="Tuesday">火曜日</option>
                <option value="Wednesday">水曜日</option>
                <option value="Thursday">木曜日</option>
                <option value="Friday">金曜日</option>
                <option value="Saturday">土曜日</option>
            </select>
        </div>
        <div class="section">
            <label for="busStop">バス停を選択:</label>
            <select id="busStop">
                <option value="">-- 選択してください --</option>
                <option value="学校行き（みなみ野）">学校行き（みなみ野）</option>
                <option value="学校行き（八王子）">学校行き（八王子）</option>
                <option value="学校行き（学生館）">学校行き（学生館）</option>
            </select>
        </div>
        <button class="option-button" onclick="updateGraph()">グラフを更新</button>
    </div>
    <div class="container">
        <h2>予想利用人数グラフ</h2>
        <div class="section">
            <label>＜グラフ＞</label>
            <canvas id="usageGraph"></canvas>
        </div>
    </div>
    <!--データ２リセットは基本的には実行しない。
    　　スクリプトでは実行できないようになっている。-->
    <div class="container">
        <h2>データ２リセット</h2>
        <div class="section">
            <label for="password">パスワードを入力:</label>
            <input type="password" id="password" maxlength="4">
            <button class="reset-button" onclick="resetData()">実行</button>
        </div>
    </div>
    <button class="stats_admin-button" onclick="showStats_adminPage()">管理画面（仮）</button>
</body>
</html>