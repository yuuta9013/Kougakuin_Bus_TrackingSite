<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>シンプルモンスターバトルゲーム</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #e9ecef;
        }

        .battle-container {
            border: 2px solid #444;
            border-radius: 10px;
            padding: 20px;
            width: 90%;
            max-width: 400px;
            background-color: #fff;
        }

        .card {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            background-color: #f9f9f9;
        }

        .card h3 {
            margin: 0;
            font-size: 20px;
        }

        .card p {
            margin: 5px 0;
        }

        button {
            margin-top: 15px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <div class="battle-container">
        <h1>モンスターバトル</h1>
        <div id="playerCard" class="card">
            <h3 id="playerName">プレイヤーカード</h3>
            <p id="playerStats"></p>
        </div>
        <div id="enemyCard" class="card">
            <h3 id="enemyName">敵のカード</h3>
            <p id="enemyStats"></p>
        </div>
        <button id="battleButton" onclick="startBattle()">バトル開始</button>
    </div>

    <script>
        // シンプルなカードデータ
        const playerCard = {
            name: "ファイアドラゴン",
            attack: 80,
            defense: 60,
            hp: 100,
            element: "火"
        };

        const enemyCard = {
            name: "ウォーターナイト",
            attack: 70,
            defense: 70,
            hp: 110,
            element: "水"
        };

        // カードを表示する
        function displayCards() {
            document.getElementById('playerName').textContent = playerCard.name;
            document.getElementById('playerStats').textContent = `HP: ${playerCard.hp} | 攻撃力: ${playerCard.attack} | 防御力: ${playerCard.defense}`;
            document.getElementById('enemyName').textContent = enemyCard.name;
            document.getElementById('enemyStats').textContent = `HP: ${enemyCard.hp} | 攻撃力: ${enemyCard.attack} | 防御力: ${enemyCard.defense}`;
        }

        // バトルロジック
        function startBattle() {
            const battleButton = document.getElementById('battleButton');
            battleButton.disabled = true; // ボタンを無効化

            let turn = "player";

            const battleInterval = setInterval(() => {
                if (turn === "player") {
                    attack(playerCard, enemyCard);
                    turn = "enemy";
                } else {
                    attack(enemyCard, playerCard);
                    turn = "player";
                }

                displayCards();

                if (playerCard.hp <= 0 || enemyCard.hp <= 0) {
                    clearInterval(battleInterval);
                    battleButton.disabled = false; // ボタンを有効化
                    announceWinner();
                }
            }, 1000);
        }

        // 攻撃処理
        function attack(attacker, defender) {
            const damage = Math.max(0, attacker.attack - defender.defense / 2);
            defender.hp = Math.max(0, defender.hp - damage);
            alert(`${attacker.name} が ${defender.name} に ${damage.toFixed(1)} のダメージを与えた！`);
        }

        // 勝者をアナウンスする
        function announceWinner() {
            if (playerCard.hp > 0) {
                alert("プレイヤーの勝利！");
            } else {
                alert("敵の勝利！");
            }
        }

        // 初期表示
        displayCards();
    </script>
</body>
</html>
